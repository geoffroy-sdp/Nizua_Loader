<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nizua Loader</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="logo-container">
               <!-- <img src="nizua_logo.png" alt="Nizua Logo" class="logo-img">-->
                <h1>NIZUASHOP</h1>
            </div>
            <div id="status">
                <span id="server-status">Vérification du serveur...</span>
            </div>
        </header>

        <!-- Système d'onglets -->
        <div id="tab-container">
            <div id="tab-bar">
                <button class="tab-button active" data-tab="main">Main</button>
                <button class="tab-button" data-tab="lobby-manager">Lobby Manager</button>
                <!-- Les onglets lobby seront ajoutés dynamiquement ici -->
            </div>
            
            <div id="tab-content">
                <!-- Onglet Main -->
                <div id="main-tab" class="tab-pane active">
                    <section id="controller-section">
                        <h2>Controller Management</h2>
                        <div id="controller-controls">
                            <div class="control-row">
                                <button id="connect-controller-btn" class="feature-btn"></button>
                            </div>
                            <div class="control-row">
                                <button id="enable-movement-btn" class="feature-btn">Enable Movement</button>
                                <button id="select-class-btn" class="feature-btn">Select Class</button>
                            </div>
                            <div class="control-row">
                                <button id="enable-anti-afk-btn" class="feature-btn">Enable Anti-AFK</button>
                            </div>
                        </div>
                    </section>

                    <section id="settings-section">
                        <h2>Paramètres</h2>
                        <div id="settings-panel">
                            <div class="settings-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <!-- Movement Settings -->
                                <div class="section">
                                    <div class="section-title">Movement Settings</div>
                                    <div id="movement-sliders" class="settings-group">
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Look Intensity <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="look-intensity" min="0" max="3" step="0.1" value="1.5">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Move Intensity <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="move-intensity" min="0" max="2" step="0.1" value="0.3">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Forward Intensity <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="forward-intensity" min="0" max="2" step="0.1" value="1.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Jump Chance <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="jump-chance" min="0" max="1" step="0.01" value="0.15">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Jump Interval <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="jump-interval" min="1" max="10" step="0.1" value="3.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Weapon Switch Chance <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="weapon-switch-chance" min="0" max="1" step="0.01" value="0.1">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Weapon Switch Interval <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="weapon-switch-interval" min="1" max="15" step="0.1" value="5.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Min Movement Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="min-movement-duration" min="1" max="10" step="0.1" value="2.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Max Movement Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="max-movement-duration" min="2" max="15" step="0.1" value="8.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Min Break Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="min-break-duration" min="1" max="10" step="0.1" value="3.0">
                                        <div class="slider-value"></div>
                                      </div>
                                  
                                      <div class="slider-container">
                                        <div class="slider-label">Max Break Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                        <input type="range" class="slider" id="max-break-duration" min="2" max="20" step="0.1" value="12.0">
                                        <div class="slider-value"></div>
                                      </div>
                                    </div>
                                  </div>                                  
                    
                                <!-- Anti-AFK Settings -->
                                  <div class="section">
                                      <div class="section-title">Anti-AFK Settings</div>
                                      <div id="anti-afk-sliders" class="settings-group">
                                      
                                        <div class="slider-container">
                                          <div class="slider-label">Interval <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                          <input type="range" class="slider" id="antiafk-interval" min="10" max="120" step="1" value="60">
                                          <div class="slider-value"></div>
                                        </div>
                                      
                                        <div class="slider-container">
                                          <div class="slider-label">Right Bumper Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                          <input type="range" class="slider" id="right-bumper-duration" min="0.1" max="1" step="0.01" value="0.1">
                                          <div class="slider-value"></div>
                                        </div>
                                      
                                        <div class="slider-container">
                                          <div class="slider-label">Left Bumper Duration <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                          <input type="range" class="slider" id="left-bumper-duration" min="0.1" max="1" step="0.01" value="0.2">
                                          <div class="slider-value"></div>
                                        </div>
                                      
                                        <div class="slider-container">
                                          <div class="slider-label">Delay Between Buttons <span class="info-icon" title="Explication à ajouter">🛈</span></div>
                                          <input type="range" class="slider" id="delay-between-buttons" min="0.1" max="2" step="0.01" value="1.0">
                                          <div class="slider-value"></div>
                                        </div>
                                      
                                      </div>
                                    </div>
                    
                            <div class="section" style="grid-column: 1 / -1; margin-top: 20px;">
                                <button class="btn btn-success" id="save-settings-btn">Save Settings</button>
                                <button class="btn btn-secondary" id="reset-settings-btn">Reset to Default</button>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Onglet Lobby Manager -->
                <div id="lobby-manager-tab" class="tab-pane">
                    <section id="lobby-section">
                        <h2>Lobby Management</h2>
                        <div id="lobby-controls">
                            <div class="control-row">
                                <label for="lobby-count">Nombre de lobbies :</label>
                                <input type="number" id="lobby-count" min="1" max="20" value="1">
                                <button id="open-lobby-btn">Open Lobby(s)</button>
                            </div>
                            <div class="control-row">
                                <button id="close-all-lobbies-btn" class="feature-btn danger">Close All Lobbies</button>
                                <button id="refresh-all-lobbies-btn" class="feature-btn">Refresh All Lobbies</button>
                            </div>
                            <div id="lobby-info">
                                <p>Lobbies actifs: <span id="active-lobbies">0</span>/20</p>
                                <p style="margin-top: 10px; color: var(--text-secondary); font-size: 0.9rem;">
                                    ✨ <strong>Auto-Play Feature:</strong> Each lobby automatically detects and clicks "Play" buttons to prevent session timeouts.
                                    Use the ▶️ button on each lobby to manually trigger auto-play if needed.
                                </p>
                            </div>
                        </div>
                    </section>

                    <section id="lobby-list-section">
                        <h2>Active Lobbies</h2>
                        <div id="lobby-list">
                            <p>Aucun lobby actif</p>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <footer>
            <div id="loader-info">
                <span>Nizua Loader v1.0.0 - Enhanced Session Management</span>
                <span id="connection-status">●</span>
            </div>
        </footer>
    </div>

    <!-- Load modules in correct order -->
    <script src="gamepad_injector.js"></script>
    <script src="modules/session-manager.js"></script>
    <script src="modules/api-client.js"></script>
    <script src="modules/ui-manager.js"></script>
    <script src="modules/controller-manager.js"></script>
    <script src="modules/lobby-manager.js"></script>
    <script src="modules/settings-manager.js"></script>
    <script src="modules/app.js"></script>
    <script src="renderer.js"></script>
    <script src="script.js"></script>
</body>
</html>